(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{404:function(t,e,a){"use strict";a.r(e);var s=a(52),r=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"autoupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#autoupdate"}},[t._v("#")]),t._v(" Autoupdate")]),t._v(" "),a("p",[a("strong",[t._v("Auto Update")]),t._v(" is a tool for package maintainers. It automatically checks for new versions of an app and updates the manifest accordingly. It helps to eliminate much of the tedium of updating manifests, as well as reducing the risk of human error while doing so.")]),t._v(" "),a("p",[t._v("Here you will find an in-depth explanation of how the "),a("code",[t._v("autoupdate")]),t._v(" part of an app manifest works.")]),t._v(" "),a("h2",{attrs:{id:"using-checkver-ps1-to-query-and-autoupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-checkver-ps1-to-query-and-autoupdate"}},[t._v("#")]),t._v(" Using "),a("code",[t._v("checkver.ps1")]),t._v(" to query and autoupdate")]),t._v(" "),a("p",[t._v("Use "),a("code",[t._v("checkver.ps1")]),t._v(" to query the current version of either a specific app or all apps of a bucket. If an updated version existed, you can autoupdate manifest by "),a("code",[t._v("checkver.ps1")]),t._v(" too.")]),t._v(" "),a("h3",{attrs:{id:"querying-current-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#querying-current-version"}},[t._v("#")]),t._v(" Querying current version")]),t._v(" "),a("p",[t._v("Open a PowerShell/CMD console, then "),a("code",[t._v("cd")]),t._v(" into Scoop's root directory ("),a("code",[t._v("apps\\scoop\\current")]),t._v(") or the buckets repository directory and run the following commands:")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("To query the current version of a specific app in the bucket, run:")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ps1 <app>\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or .\\bin\\checkver.ps1 -App <app>")]),t._v("\n")])])])]),t._v(" "),a("li",[a("p",[t._v("To query the current version of all apps in the bucket, run:")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ps1 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or .\\bin\\checkver.ps1 -App *")]),t._v("\n")])])])])]),t._v(" "),a("h3",{attrs:{id:"updating-manifest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#updating-manifest"}},[t._v("#")]),t._v(" Updating manifest")]),t._v(" "),a("p",[t._v("In the output of "),a("code",[t._v("checkver.ps1")]),t._v(", you can see if an outdated app has autoupdate available. If so, you can run the following command to automatically update the respective app's manifest (use "),a("code",[t._v("*")]),t._v(" to update all apps)")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ps1 <app> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or .\\bin\\checkver.ps1 -App <app> -Update")]),t._v("\n")])])]),a("p",[t._v("To query apps that not in "),a("code",[t._v("bucket")]),t._v(" directory (e.g. "),a("code",[t._v(".")]),t._v(", "),a("code",[t._v(".\\TODO")]),t._v(", etc.), specify the directory as the second argument to "),a("code",[t._v("checkver.ps1")])]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ps1 <app> <"),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("dir")]),t._v("> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# or .\\bin\\checkver.ps1 -App <app> -Dir <dir> -Update")]),t._v("\n")])])]),a("p",[t._v("It is recommended to verify that the updated manifest still works by installing the app with the following command")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("scoop install bucket\\<app>"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("json\n")])])]),a("h3",{attrs:{id:"parameters-of-checkver-ps1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#parameters-of-checkver-ps1"}},[t._v("#")]),t._v(" Parameters of "),a("code",[t._v("checkver.ps1")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("-App")]),t._v(" ("),a("code",[t._v("-a APP")]),t._v(")\n"),a("ul",[a("li",[t._v("Manifest name to search.")]),t._v(" "),a("li",[t._v("Placeholders ("),a("code",[t._v("*")]),t._v(") are supported.")])])]),t._v(" "),a("li",[a("code",[t._v("-Dir")]),t._v(" ("),a("code",[t._v("-d DIR")]),t._v(")\n"),a("ul",[a("li",[t._v("Where to search for manifest(s).")])])]),t._v(" "),a("li",[a("code",[t._v("-Update")]),t._v(" ("),a("code",[t._v("-u")]),t._v(")\n"),a("ul",[a("li",[t._v("Update given manifest.")])])]),t._v(" "),a("li",[a("code",[t._v("-ForceUpdate")]),t._v(" ("),a("code",[t._v("-f")]),t._v(")\n"),a("ul",[a("li",[t._v("Check manifest(s) and update, even if there is no new version.")])])]),t._v(" "),a("li",[a("code",[t._v("-SkipUpdated")]),t._v(" ("),a("code",[t._v("-s")]),t._v(")\n"),a("ul",[a("li",[t._v("Check given manifest(s), and list only outdated manifest(s).")])])]),t._v(" "),a("li",[a("code",[t._v("-Version")]),t._v(" ("),a("code",[t._v("-v VER")]),t._v(")\n"),a("ul",[a("li",[t._v("Check given manifest(s) using a given version "),a("code",[t._v("VER")]),t._v(".")]),t._v(" "),a("li",[t._v("Usually used with "),a("code",[t._v("-u")]),t._v(" to update to a certain version.")])])])]),t._v(" "),a("h2",{attrs:{id:"adding-checkver-to-a-manifest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-checkver-to-a-manifest"}},[t._v("#")]),t._v(" Adding "),a("code",[t._v("checkver")]),t._v(" to a manifest")]),t._v(" "),a("h3",{attrs:{id:"using-regex-in-checkver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-regex-in-checkver"}},[t._v("#")]),t._v(" Using RegEx in "),a("code",[t._v("checkver")])]),t._v(" "),a("p",[t._v("Simplest solution is to use an RegEx and it will match it to the source of "),a("code",[t._v("homepage")]),t._v(". Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/go.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("go"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<https://golang.org>"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Build version go([\\\\d\\\\.]+)\\\\."')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("If you're not familiar with RegEx or want to test if your RegEx matches on the right text you can use an online tool ("),a("a",{attrs:{href:"https://regex101.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("RegEx101"),a("OutboundLink")],1),t._v(" or "),a("a",{attrs:{href:"https://regexr.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("RegExr"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("p",[t._v("Use another url if the "),a("code",[t._v("homepage")]),t._v(" doesn't contain the version. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/7zip.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("7zip"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.7-zip.org/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.7-zip.org/download.html"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"regex"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Download 7-Zip ([\\\\d.]+)"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"using-jsonpath-in-checkver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-jsonpath-in-checkver"}},[t._v("#")]),t._v(" Using JSONPath in "),a("code",[t._v("checkver")])]),t._v(" "),a("p",[t._v("Use a JSON endpoint with "),a("a",{attrs:{href:"https://goessner.net/articles/JsonPath/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSONPath expressions"),a("OutboundLink")],1),t._v(" to retrieve the version. Either dot-notation or bracket-notation can be used. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/mro.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("mro"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mran.microsoft.com/assets/configurations/app.config.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jp"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$.latestMicrosoftRVersion"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("If you're not familiar with JSONPath or want to test if your JSONPath matches on the right text you can use an online tool ("),a("a",{attrs:{href:"https://jsonpath.curiousconcept.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSONPath Expression Tester"),a("OutboundLink")],1),t._v(").")]),t._v(" "),a("p",[t._v("There could be a JSONPath query in "),a("code",[t._v("checkver.jsonpath")]),t._v(", and so does RegEx ("),a("a",{attrs:{href:"https://www.newtonsoft.com/json/help/html/RegexQuery.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("sample reference"),a("OutboundLink")],1),t._v("). Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/nuget.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nuget"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dist.nuget.org/index.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jp"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"$..versions[?(@.displayName == 'nuget.exe - recommended latest')].version\"")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"using-regex-with-jsonpath-in-checkver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-regex-with-jsonpath-in-checkver"}},[t._v("#")]),t._v(" Using RegEx with JSONPath in "),a("code",[t._v("checkver")])]),t._v(" "),a("p",[t._v("If "),a("code",[t._v("checkver.regex")]),t._v(" and "),a("code",[t._v("checkver.jsonpath")]),t._v(" are all assigned, "),a("strong",[t._v("scoop")]),t._v(" use "),a("code",[t._v("checkver.jsonpath")]),t._v(" to extract a string which "),a("code",[t._v("checkver.regex")]),t._v(" is matched to to find the version. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main-extras/blob/master/bucket/nwjs.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nwjs"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://nwjs.io/versions.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsonpath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$.stable"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"regex"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v([\\\\d.]+)"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"special-cases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-cases"}},[t._v("#")]),t._v(" Special Cases")]),t._v(" "),a("p",[t._v("Use the latest app release on Github by setting "),a("code",[t._v("checkver")]),t._v(" to "),a("code",[t._v("github")]),t._v(" and the "),a("code",[t._v("homepage")]),t._v(" to the repository URL. This will try to match the tag with "),a("code",[t._v("\\/releases\\/tag\\/(?:v|V)?([\\d.]+)")]),t._v(". "),a("em",[t._v("The app author has to use Github's release feature for this to work. Pre-releases will be ignored!")]),t._v(" Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/nvm.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nvm"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/coreybutler/nvm-windows"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"github"')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Or use different urls for the homepage and repository. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/cmder.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("cmder"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"homepage"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"http://cmder.net"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"github"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/cmderdev/cmder"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Use "),a("code",[t._v("checkver.reverse: true")]),t._v(" to let "),a("code",[t._v("checkver.regex")]),t._v(" match the last occurrence found (default is to match the first occurrence). Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/x264.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("x264"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://download.videolan.org/pub/videolan/x264/binaries/win64/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"re"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"x264-r(?<version>[\\\\d]+)-(?<commit>[a-fA-F0-9]{7}).exe"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"reverse"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Use capture groups in "),a("code",[t._v("checkver.regex")]),t._v(" will make "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")]),t._v(" that could be used in "),a("code",[t._v("checkver.replace")]),t._v(" for complex versions or in "),a("a",{attrs:{href:"#adding-autoupdate-to-a-manifest"}},[a("code",[t._v("autoupdate")])]),t._v(" property.")]),t._v(" "),a("p",[t._v("This example will provide "),a("code",[t._v("$matchVersion")]),t._v(" and "),a("code",[t._v("$matchShort")]),t._v(" as variables (used in "),a("code",[t._v("autoupdate")]),t._v("). Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/git.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("git"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/git-for-windows/git/releases/latest"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"re"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"v(?<version>[\\\\d\\\\w.]+)/PortableGit-(?<short>[\\\\d.]+).*\\\\.exe"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("This exmple will provide "),a("code",[t._v("${1}, ${2}, ${3}")]),t._v(" (used in "),a("code",[t._v("checkver.replace")]),t._v(") and "),a("code",[t._v("$matchSha")]),t._v(" (used in "),a("code",[t._v("autoupdate")]),t._v(") as variables. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/pshazz.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("pshazz"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://github.com/lukesampson/pshazz/commits/master.atom"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"re"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"(\\\\d+)-(\\\\d+)-(\\\\d+)[\\\\S\\\\s]*?(?<sha>[0-9a-f]{40})"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"replace"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"0.${1}.${2}.${3}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"properties-of-checkver"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties-of-checkver"}},[t._v("#")]),t._v(" Properties of "),a("code",[t._v("checkver")])]),t._v(" "),a("ul",[a("li",[a("code",[t._v("checkver")]),t._v(': "regex". RegEx for finding the version on the '),a("code",[t._v("homepage")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("github")]),t._v(': "uri". URL to the app\'s Github repository')]),t._v(" "),a("li",[a("code",[t._v("url")]),t._v(': "uri". Page where the version can be found\n'),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")])])])]),t._v(" "),a("li",[a("code",[t._v("regex|re")]),t._v(': "regex". RegEx for finding the version')]),t._v(" "),a("li",[a("code",[t._v("jsonpath|jp")]),t._v(': "jsonpath". JSONPath expression for finding the version')]),t._v(" "),a("li",[a("code",[t._v("xpath")]),t._v(': "string". XPath expression for finding the version')]),t._v(" "),a("li",[a("code",[t._v("reverse")]),t._v(': "boolean". If or not match the last occurrence found')]),t._v(" "),a("li",[a("code",[t._v("replace")]),t._v(': "string". Replace the matched value with a calculated value\n'),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])])])]),t._v(" "),a("li",[a("code",[t._v("useragent")]),t._v(': "string". User-Agent that used to get webpage content (only used in '),a("a",{attrs:{href:"https://github.com/lukesampson/scoop-extras/blob/master/bucket/fiddler.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("fiddler"),a("OutboundLink")],1),t._v(")\n"),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")])])])])])])]),t._v(" "),a("h2",{attrs:{id:"adding-autoupdate-to-a-manifest"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-autoupdate-to-a-manifest"}},[t._v("#")]),t._v(" Adding "),a("code",[t._v("autoupdate")]),t._v(" to a manifest")]),t._v(" "),a("p",[t._v("For the autoupdate feature to work it needs a "),a("a",{attrs:{href:"#adding-checkver-to-a-manifest"}},[a("code",[t._v("checkver")])]),t._v(" property\nto find the latest version number.")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"note"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Thanks for using autoupdate, please test your updates!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://example.org/dl/example-v$version-x64.msi"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://example.org/dl/example-v$version-x86.msi"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Some example manifests using the "),a("code",[t._v("autoupdate")]),t._v(" feature:")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/nodejs.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nodejs"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://nodejs.org/dist/v$version/node-v$version-win-x64.7z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node-v$version-win-x64"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://nodejs.org/dist/v$version/node-v$version-win-x86.7z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"node-v$version-win-x86"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$baseurl/SHASUMS256.txt.asc"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/php.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("php"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://windows.php.net/downloads/releases/php-$version-Win32-VC15-x64.zip"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://windows.php.net/downloads/releases/php-$version-Win32-VC15-x86.zip"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$baseurl/sha256sum.txt"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/nginx.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nginx"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://nginx.org/download/nginx-$version.zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nginx-$version"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/imagemagick.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("imagemagick"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.imagemagick.org/download/binaries/ImageMagick-$version-portable-Q16-x64.zip"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.imagemagick.org/download/binaries/ImageMagick-$version-portable-Q16-x86.zip"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rdf"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.imagemagick.org/download/binaries/digest.rdf"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("Some examples using the "),a("code",[t._v("autoupdate")]),t._v(" feature with "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")]),t._v(" or "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")]),t._v(":")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Java/blob/master/openjdk.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("openjdk"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"re"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/(?<type>early_access|GA)/(?<path>jdk(?<major>[\\\\d.]+)(?:.*)?/(?<build>[\\\\d]+)(?:/GPL|/binaries)?)/(?<file>openjdk-(?<version>[\\\\d.]+)(?<ea>-ea)?(?:\\\\+[\\\\d]+)?_windows-x64_bin.(zip|tar.gz))"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"replace"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"${version}-${build}${ea}"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://download.java.net/java/$matchType/$matchPath/$matchFile"')]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$url.sha256"')]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"jdk-$matchVersion"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/mysql.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("mysql"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dev.mysql.com/get/Downloads/MySQL-$majorVersion.$minorVersion/mysql-$version-winx64.zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mysql-$version-winx64"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://dev.mysql.com/downloads/mysql/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"find"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"md5\\">([A-Fa-f\\\\d]{32})"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"properties-of-autoupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties-of-autoupdate"}},[t._v("#")]),t._v(" Properties of "),a("code",[t._v("autoupdate")])]),t._v(" "),a("p",[t._v("All the properties except "),a("code",[t._v("autoupdate.note")]),t._v(" can be set globally for all architectures or for each architecture separately (under "),a("code",[t._v("architecture.64bit")]),t._v(" or "),a("code",[t._v("architecture.32bit")]),t._v("). Global properties can be used to update each architectural properties, i.e., if only setted globally, "),a("code",[t._v("autoupdate.url")]),t._v(" is used to update either "),a("code",[t._v("architecture.64bit.url")]),t._v(" or "),a("code",[t._v("architecture.32bit.url")]),t._v(".")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("url")]),t._v(': "uri". An URL template for generating the new url\n'),a("ul",[a("li",[a("strong",[t._v("scoop")]),t._v(" will rename files by appending "),a("code",[t._v("#/dl.7z")]),t._v(" or "),a("code",[t._v("#/pngcrush.exe")]),t._v(" to the URL (useful for extracting installers or renaming executables version string)")]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")])])])]),t._v(" "),a("li",[a("code",[t._v("hash")]),t._v(': "object". Set this '),a("a",{attrs:{href:"#adding-hash-to-autoupdate"}},[t._v("property")]),t._v(" for obtaining hash values without download the actual files")]),t._v(" "),a("li",[a("code",[t._v("extract_dir")]),t._v(': "string". Option to update '),a("code",[t._v("extract_dir")]),t._v(" "),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")])])])]),t._v(" "),a("li",[a("code",[t._v("note")]),t._v(': "string". Optional message to be displayed when the autoupdate command is run')])]),t._v(" "),a("h2",{attrs:{id:"adding-hash-to-autoupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#adding-hash-to-autoupdate"}},[t._v("#")]),t._v(" Adding "),a("code",[t._v("hash")]),t._v(" to "),a("code",[t._v("autoupdate")])]),t._v(" "),a("p",[t._v("There are several ways to obtain the hash of the new file. If the app provider publishes hash values it is possible to extract these from their website or hashfile. If nothing is defined or something goes wrong while getting the hash values the target files will be downloaded and hashed locally.")]),t._v(" "),a("p",[t._v("Hash value can be directly extracted by the following method ("),a("code",[t._v("autoupdate.hash.mode")]),t._v("):")]),t._v(" "),a("ul",[a("li",[t._v("Using RegEx for plain text file or webpage ("),a("code",[t._v("extract")]),t._v(", "),a("em",[t._v("predefined "),a("code",[t._v("fosshub")]),t._v(", "),a("code",[t._v("sourceforge")])]),t._v(")")]),t._v(" "),a("li",[t._v("Using JSONPath for JSON file ("),a("code",[t._v("json")]),t._v(")")]),t._v(" "),a("li",[t._v("Using XPath for XML file ("),a("code",[t._v("xpath")]),t._v(")")]),t._v(" "),a("li",[t._v("Using Digest for RDF file ("),a("code",[t._v("rdf")]),t._v(")")]),t._v(" "),a("li",[t._v("Using download header or "),a("code",[t._v(".meta4")]),t._v(" for "),a("a",{attrs:{href:"http://www.metalinker.org",target:"_blank",rel:"noopener noreferrer"}},[t._v("Metalink"),a("OutboundLink")],1),t._v(" ("),a("code",[t._v("metalink")]),t._v(")")])]),t._v(" "),a("h3",{attrs:{id:"specifying-url-in-hash-url"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specifying-url-in-hash-url"}},[t._v("#")]),t._v(" Specifying URL in "),a("code",[t._v("hash.url")])]),t._v(" "),a("p",[a("code",[t._v("url")]),t._v(" in "),a("code",[t._v("hash")]),t._v(" property accepts URL with "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")]),t._v(", "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")]),t._v(" or "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")]),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("Use "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")]),t._v(". Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/qemu.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("qemu"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"checkver"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"re"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"<strong>(?<year>\\\\d{4})-(?<month>\\\\d{2})-(?<day>\\\\d{2})</strong>: New QEMU installers \\\\((?<version>[\\\\d.a-z\\\\-]+)\\\\)"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"architecture"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"64bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://qemu.weilnetz.de/w64/qemu-w64-setup-$matchYear$matchMonth$matchDay.exe#/dl.7z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://qemu.weilnetz.de/w64/qemu-w64-setup-$matchYear$matchMonth$matchDay.sha512"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"32bit"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://qemu.weilnetz.de/w32/qemu-w32-setup-$matchYear$matchMonth$matchDay.exe#/dl.7z"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://qemu.weilnetz.de/w32/qemu-w32-setup-$matchYear$matchMonth$matchDay.sha512"')]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Use "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")]),t._v(". Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/julia.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("julia"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://julialang-s3.julialang.org/bin/checksums/julia-$version.sha256"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[t._v("Use "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")]),t._v(" and append suffix to it. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/apache.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("apache"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$url_fossies.sha256"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getting-hash-from-plain-text-file-or-webpage"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-hash-from-plain-text-file-or-webpage"}},[t._v("#")]),t._v(" Getting hash from plain text file or webpage")]),t._v(" "),a("p",[t._v("If the app provider publishes hash value in a plain text file or on some webpage, "),a("code",[t._v("checkver.ps1")]),t._v(" could extract it by using proper RegEx.")]),t._v(" "),a("h4",{attrs:{id:"using-built-in-regex-in-autoupdate-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-built-in-regex-in-autoupdate-hash"}},[t._v("#")]),t._v(" Using Built-in RegEx in "),a("code",[t._v("autoupdate.hash")])]),t._v(" "),a("p",[t._v("There are some "),a("em",[t._v("default")]),t._v(" RegEx that built in "),a("strong",[t._v("scoop")]),t._v(", i.e., "),a("code",[t._v("^([a-fA-F0-9]+)$")]),t._v(" and "),a("code",[t._v("([a-fA-F0-9]{32,128})[\\x20\\t]+.*$basename(?:[\\x20\\t]+\\d+)?")]),t._v(".")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ^([a-fA-F0-9]+)$")]),t._v("\nabcdef0123456789abcdef0123456789abcdef01\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# ([a-fA-F0-9]{32,128})[\\x20\\t]+.*`$basename(?:[\\x20\\t]+\\d+)?")]),t._v("\nabcdef0123456789abcdef0123456789abcdef01 "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("example"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("zip\n")])])]),a("p",[t._v("See "),a("a",{attrs:{href:"#specifying-url-in-hashurl"}},[t._v("above")]),t._v(" for examples.")]),t._v(" "),a("h4",{attrs:{id:"using-customized-regex-in-autoupdate-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-customized-regex-in-autoupdate-hash"}},[t._v("#")]),t._v(" Using customized RegEx in "),a("code",[t._v("autoupdate.hash")])]),t._v(" "),a("p",[t._v("If built-in RegEx is not suitable, customized RegEx could be used to extract hash value. "),a("a",{attrs:{href:"#hash-variables"}},[t._v("Hash variables")]),t._v(" ("),a("code",[t._v("$md5")]),t._v(", "),a("code",[t._v("$sha1")]),t._v(", "),a("code",[t._v("$sha256")]),t._v(", and etc.) could be used to simplify the expression.")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/curl.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("curl"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$baseurl/hashes.txt"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"find"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SHA256\\\\($basename\\\\)=\\\\s+([a-fA-F\\\\d]{64})"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/python.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("python"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.python.org/downloads/release/python-$cleanVersion/"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"find"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$basename[\\\\S\\\\s]+?$md5"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h4",{attrs:{id:"special-cases-for-fosshub-and-sourceforge"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#special-cases-for-fosshub-and-sourceforge"}},[t._v("#")]),t._v(" Special cases for FossHub and SourceForge")]),t._v(" "),a("p",[t._v("There are two predefined special cases: "),a("a",{attrs:{href:"https://www.fosshub.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("FossHub"),a("OutboundLink")],1),t._v(" and "),a("a",{attrs:{href:"https://sourceforge.net",target:"_blank",rel:"noopener noreferrer"}},[t._v("SourceForge"),a("OutboundLink")],1),t._v(".")]),t._v(" "),a("ul",[a("li",[t._v("FossHub\n"),a("ul",[a("li",[t._v("URL pattern: "),a("code",[t._v("^(?:.*fosshub.com\\/).*(?:\\/|\\?dwl=)(?<filename>.*)$")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("https://www.fosshub.com/Calibre.html?dwl=calibre-64bit-3.44.0.msi")])]),t._v(" "),a("li",[a("code",[t._v("https://www.fosshub.com/Calibre.html/calibre-64bit-3.44.0.msi")])])])]),t._v(" "),a("li",[t._v("RegEx: "),a("code",[t._v('$basename.*?"sha256":"([a-fA-F0-9]{64})"')])])])]),t._v(" "),a("li",[t._v("SourceForge\n"),a("ul",[a("li",[t._v("URL pattern: "),a("code",[t._v("(?:downloads\\.)?sourceforge.net\\/projects?\\/(?<project>[^\\/]+)\\/(?:files\\/)?(?<file>.*)")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("https://downloads.sourceforge.net/project/nsis/NSIS%203/3.04/nsis-3.04.zip")])]),t._v(" "),a("li",[a("code",[t._v("https://sourceforge.net/projects/nsis/files/NSIS%203/3.04/nsis-3.04.zip")])])])]),t._v(" "),a("li",[t._v("RegEx: "),a("code",[t._v('"$basename":.*?"sha1":\\s"([a-fA-F0-9]{40})"')])])])])]),t._v(" "),a("p",[t._v("For "),a("code",[t._v("autoupdate.url")]),t._v("s that match above patterns, hash mode is setted to "),a("code",[t._v("fosshub")]),t._v(" or "),a("code",[t._v("sourceforge")]),t._v(" automatically and "),a("code",[t._v("hash")]),t._v(" property is not needed.")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/curl.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("calibre"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.fosshub.com/Calibre.html/calibre-portable-installer-$version.exe"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/lukesampson/scoop-extras/blob/master/bucket/nsis.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("nsis"),a("OutboundLink")],1)])]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"autoupdate"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://downloads.sourceforge.net/project/nsis/NSIS%20$majorVersion/$version/nsis-$version.zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"extract_dir"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nsis-$version"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getting-hash-from-json-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-hash-from-json-file"}},[t._v("#")]),t._v(" Getting hash from JSON file")]),t._v(" "),a("p",[t._v("For JSON file, use a JSON endpoint with "),a("a",{attrs:{href:"https://goessner.net/articles/JsonPath/",target:"_blank",rel:"noopener noreferrer"}},[t._v("JSONPath expressions"),a("OutboundLink")],1),t._v(" to retrieve the hash. Either dot-notation or bracket-notation can be used. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/openssl.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("openssl"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jp"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"$.files.['$basename'].sha512\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"$baseurl/win32_openssl_hashes.json"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("p",[t._v("There could be a JSONPath query in "),a("code",[t._v("autoupdate.hash.jsonpath")]),t._v(", and so does RegEx ("),a("a",{attrs:{href:"https://www.newtonsoft.com/json/help/html/RegexQuery.htm",target:"_blank",rel:"noopener noreferrer"}},[t._v("sample reference"),a("OutboundLink")],1),t._v("). Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/mro.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("mro"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"jsonpath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("\"$..versions[?(@.downloadText == '$basename')].sha256\"")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://mranapi.azurewebsites.net/api/download"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getting-hash-from-xml-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-hash-from-xml-file"}},[t._v("#")]),t._v(" Getting hash from XML file")]),t._v(" "),a("p",[t._v("Use XPath to retrieve the hash from a XML file. Example: "),a("a",{attrs:{href:"https://github.com/h404bi/dorado/blob/master/bucket/googlechrome.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("googlechrome"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://lab.skk.moe/chrome/api/chrome.min.xml"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"xpath"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"/chromechecker/stable64[version=\\"$version\\"]/sha256"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getting-hash-from-rdf-file"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-hash-from-rdf-file"}},[t._v("#")]),t._v(" Getting hash from RDF file")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://www.w3.org/TR/rdf11-concepts/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Resource Description Framework (RDF)"),a("OutboundLink")],1),t._v(" is a framework for representing information in the Web. Hash value could be extracted from RDF file. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/imagemagick.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("imagemagick"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"rdf"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"url"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://www.imagemagick.org/download/binaries/digest.rdf"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"getting-hash-from-from-metalink"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-hash-from-from-metalink"}},[t._v("#")]),t._v(" Getting hash from from Metalink")]),t._v(" "),a("p",[a("a",{attrs:{href:"http://www.metalinker.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Metalink"),a("OutboundLink")],1),t._v(" is an Internet standard that harnesses the speed and power of peer to peer networking and traditional downloads with a single click. For download URL that supported Metalink, hash value could be retrieved from download URL's header or a "),a("code",[t._v(".meta4")]),t._v(" file. Example: "),a("a",{attrs:{href:"https://github.com/lukesampson/scoop-extras/blob/master/bucket/libreoffice-fresh.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("libreoffice-fresh"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[t._v('"mode"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"metalink"')]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h3",{attrs:{id:"properties-of-autoupdate-hash"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#properties-of-autoupdate-hash"}},[t._v("#")]),t._v(" Properties of "),a("code",[t._v("autoupdate.hash")])]),t._v(" "),a("p",[t._v("All the properties can be set globally for all architectures or for each architecture separately")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("mode")]),t._v(': "String | Enum".\n'),a("ul",[a("li",[a("strong",[a("code",[t._v("extract")])]),t._v(": Extract from a plain text file or webpage by RegEx (Default, can be omitted)")]),t._v(" "),a("li",[a("code",[t._v("json")]),t._v(": Extract from a JSON file by JSONPath")]),t._v(" "),a("li",[a("code",[t._v("xpath")]),t._v(": Extract from a XML file by XPath")]),t._v(" "),a("li",[a("code",[t._v("rdf")]),t._v(": Extract from a RDF file")]),t._v(" "),a("li",[a("code",[t._v("metalink")]),t._v(": Extract from Metalink's header or "),a("code",[t._v(".meta4")]),t._v(" file")]),t._v(" "),a("li",[a("code",[t._v("fosshub")]),t._v(": "),a("em",[t._v("Automatic")]),t._v(". Predefined for FossHub")]),t._v(" "),a("li",[a("code",[t._v("sourceforge")]),t._v(": "),a("em",[t._v("Automatic")]),t._v(". Predefined for SourceForge")]),t._v(" "),a("li",[a("code",[t._v("download")]),t._v(": Downloads the app file and hash it locally (Fallback)")])])]),t._v(" "),a("li",[a("code",[t._v("url")]),t._v(': "Uri". URL template for downloading RDF/JSON files or extracting hashes\n'),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")])])])]),t._v(" "),a("li",[a("code",[t._v("regex|find")]),t._v(': "Regex". RegEx expression to extract the hash\n'),a("ul",[a("li",[t._v("Defaults: "),a("code",[t._v("^([a-fA-F0-9]+)$")]),t._v(" and "),a("code",[t._v("([a-fA-F0-9]{32,128})[\\x20\\t]+.*$basename(?:[\\x20\\t]+\\d+)?")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version Variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#hash-variables"}},[t._v("hash variables")])])])]),t._v(" "),a("li",[a("code",[t._v("jsonpath|jp")]),t._v(': "JSONPath". JSONPath expression to extract the hash\n'),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version Variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")])])])]),t._v(" "),a("li",[a("code",[t._v("xpath")]),t._v(': "String". XPath expression to extract the hash\n'),a("ul",[a("li",[t._v("Supports "),a("a",{attrs:{href:"#captured-variables"}},[t._v("captured variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#version-variables"}},[t._v("version Variables")])]),t._v(" "),a("li",[t._v("Supports "),a("a",{attrs:{href:"#url-variables"}},[t._v("URL variables")])])])]),t._v(" "),a("li",[a("em",[a("code",[t._v("type")]),t._v(': "String | Enum". Deprecated. Hash type is determined automatically')])])]),t._v(" "),a("h2",{attrs:{id:"internal-substitutable-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#internal-substitutable-variables"}},[t._v("#")]),t._v(" Internal substitutable variables")]),t._v(" "),a("h3",{attrs:{id:"captured-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#captured-variables"}},[t._v("#")]),t._v(" Captured variables")]),t._v(" "),a("ul",[a("li",[t._v("Used in "),a("code",[t._v("checkver.replace")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("${1}")]),t._v(", "),a("code",[t._v("${2}")]),t._v(", "),a("code",[t._v("${3}")]),t._v("...: Unnamed groups")]),t._v(" "),a("li",[a("code",[t._v("${name1}")]),t._v(", "),a("code",[t._v("${Name2}")]),t._v(", "),a("code",[t._v("${NAME3}")]),t._v("...: Named groups\n"),a("ul",[a("li",[a("code",[t._v("(?<name1>...)")]),t._v(", "),a("code",[t._v("(?<Name2>...)")]),t._v(", "),a("code",[t._v("(?<NAME3>...)")]),t._v("...")])])])])]),t._v(" "),a("li",[t._v("Used in "),a("code",[t._v("autoupdate")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$match1")]),t._v(", "),a("code",[t._v("$match2")]),t._v(", "),a("code",[t._v("$match3")]),t._v("...: Unnamed groups")]),t._v(" "),a("li",[a("code",[t._v("$matchName1")]),t._v(", "),a("code",[t._v("$matchName2")]),t._v(", "),a("code",[t._v("$matchName3")]),t._v("...: Named groups\n"),a("ul",[a("li",[a("code",[t._v("(?<name1>...)")]),t._v(", "),a("code",[t._v("(?<Name2>...)")]),t._v(", "),a("code",[t._v("(?<NAME3>...)")]),t._v("...")]),t._v(" "),a("li",[a("em",[t._v("Notice the only uppercase character in variable name")])])])])])])]),t._v(" "),a("h3",{attrs:{id:"version-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#version-variables"}},[t._v("#")]),t._v(" Version variables")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$version")]),t._v(": "),a("code",[t._v("3.7.1")])]),t._v(" "),a("li",[a("code",[t._v("$underscoreVersion")]),t._v(": "),a("code",[t._v("3_7_1")])]),t._v(" "),a("li",[a("code",[t._v("$dashVersion")]),t._v(": "),a("code",[t._v("3-7-1")])]),t._v(" "),a("li",[a("code",[t._v("$cleanVersion")]),t._v(": "),a("code",[t._v("371")])]),t._v(" "),a("li",[t._v("The "),a("code",[t._v("$version")]),t._v(" (e.g. "),a("code",[t._v("3.7.1.2")]),t._v(") is splitted on each "),a("code",[t._v(".")]),t._v(" and is assigned to:\n"),a("ul",[a("li",[a("code",[t._v("$majorVersion")]),t._v(": "),a("code",[t._v("3")])]),t._v(" "),a("li",[a("code",[t._v("$minorVersion")]),t._v(": "),a("code",[t._v("7")])]),t._v(" "),a("li",[a("code",[t._v("$patchVersion")]),t._v(": "),a("code",[t._v("1")])]),t._v(" "),a("li",[a("code",[t._v("$buildVersion")]),t._v(": "),a("code",[t._v("2")])])])]),t._v(" "),a("li",[a("code",[t._v("$matchHead")]),t._v(": Returns first two or three digits seperated by a dot (e.g. "),a("code",[t._v("3.7.1-rc.1")]),t._v(" = "),a("code",[t._v("3.7.1")]),t._v(" , "),a("code",[t._v("3.7.1.2-rc.1")]),t._v(" = "),a("code",[t._v("3.7.1")]),t._v(" or "),a("code",[t._v("3.7-rc.1")]),t._v(" = "),a("code",[t._v("3.7")]),t._v(")")]),t._v(" "),a("li",[a("code",[t._v("$matchTail")]),t._v(": Returns the rest of "),a("code",[t._v("$matchHead")]),t._v(" (e.g. "),a("code",[t._v("3.7.1-rc.1")]),t._v(" = "),a("code",[t._v("-rc.1")]),t._v(" , "),a("code",[t._v("3.7.1.2-rc.1")]),t._v(" = "),a("code",[t._v(".2-rc.1")]),t._v(" or "),a("code",[t._v("3.7-rc.1")]),t._v(" = "),a("code",[t._v("-rc.1")]),t._v(")")]),t._v(" "),a("li",[a("code",[t._v("$preReleaseVersion")]),t._v(": Everything after the last "),a("code",[t._v("-")]),t._v(" (e.g. "),a("code",[t._v("3.7.1-rc.1")]),t._v(" would result in "),a("code",[t._v("rc.1")]),t._v(")")]),t._v(" "),a("li",[t._v("Each capturing group in the "),a("a",{attrs:{href:"#adding-checkver-to-a-manifest"}},[a("code",[t._v("checkver")]),t._v(" property")]),t._v(" adds a "),a("code",[t._v("$matchX")]),t._v(" variable (named groups are allowed). Matching "),a("code",[t._v("v3.7.1/3.7")]),t._v(" with "),a("a",{attrs:{href:"https://regex101.com/r/M7RP3p/1",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("v(?<version>[\\d.]+)\\/(?<short>[\\d.]+)")]),a("OutboundLink")],1),t._v(" would result in:\n"),a("ul",[a("li",[a("code",[t._v("$match1")]),t._v(" or "),a("code",[t._v("$matchVersion")]),t._v(": "),a("code",[t._v("3.7.1")])]),t._v(" "),a("li",[a("code",[t._v("$match2")]),t._v(" or "),a("code",[t._v("$matchShort")]),t._v(": "),a("code",[t._v("3.7")])])])])]),t._v(" "),a("h3",{attrs:{id:"url-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#url-variables"}},[t._v("#")]),t._v(" URL variables")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$url")]),t._v(": autoupdate URL without fragments ("),a("code",[t._v("#/dl.7z")]),t._v(") [e.g. "),a("code",[t._v("http://example.com/path/file.exe")]),t._v("]")]),t._v(" "),a("li",[a("code",[t._v("$baseurl")]),t._v(": autoupdate URL without filename and fragments ("),a("code",[t._v("#/dl.7z")]),t._v(") [e.g. "),a("code",[t._v("http://example.com/path")]),t._v("]")]),t._v(" "),a("li",[a("code",[t._v("$basename")]),t._v(": filename from autoupdate URL (ignores fragments "),a("code",[t._v("#/dl.7z")]),t._v(")")])]),t._v(" "),a("h3",{attrs:{id:"hash-variables"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hash-variables"}},[t._v("#")]),t._v(" Hash variables")]),t._v(" "),a("ul",[a("li",[a("code",[t._v("$md5")]),t._v(": "),a("code",[t._v("([a-fA-F0-9]{32})")]),t._v(" MD5 hash type")]),t._v(" "),a("li",[a("code",[t._v("$sha1")]),t._v(": "),a("code",[t._v("([a-fA-F0-9]{40})")]),t._v(" SHA-1 hash type")]),t._v(" "),a("li",[a("code",[t._v("$sha256")]),t._v(": "),a("code",[t._v("([a-fA-F0-9]{64})")]),t._v(" SHA-256 hash type")]),t._v(" "),a("li",[a("code",[t._v("$sha512")]),t._v(": "),a("code",[t._v("([a-fA-F0-9]{128})")]),t._v(" SHA-512 hash type")]),t._v(" "),a("li",[a("code",[t._v("$checksum")]),t._v(": "),a("code",[t._v("([a-fA-F0-9]{32,128})")]),t._v(" MD5, SHA-1, SHA-256 or SHA-512 hash type")]),t._v(" "),a("li",[a("code",[t._v("$base64")]),t._v(": "),a("code",[t._v("([a-zA-Z0-9+\\/=]{24,88})")]),t._v(" BASE64 encoded checksum (can be MD5, SHA-1, SHA-256 or SHA-512)")])]),t._v(" "),a("h2",{attrs:{id:"limitations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#limitations"}},[t._v("#")]),t._v(" Limitations")]),t._v(" "),a("p",[t._v("There are some complex manifests which reach the limits of the current autoupdate implementation, mainly because "),a("code",[t._v("autoupdate")]),t._v(" only update "),a("code",[t._v("url")]),t._v(", "),a("code",[t._v("hash")]),t._v(" and "),a("code",[t._v("extract_dir")]),t._v(". ("),a("em",[t._v("The list of affected manifests is incomplete")]),t._v(")")]),t._v(" "),a("ul",[a("li",[t._v("The binaries specified in the "),a("code",[t._v("bin")]),t._v(" or "),a("code",[t._v("shortcuts")]),t._v(" change with the version number. Example: "),a("a",{attrs:{href:"https://github.com/lukesampson/scoop-extras/blob/master/bucket/gimp.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("gimp"),a("OutboundLink")],1)]),t._v(" "),a("li",[t._v("There are multiple "),a("code",[t._v("url")]),t._v("s needed to be updated. Example: "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main/blob/master/bucket/coreutils.json",target:"_blank",rel:"noopener noreferrer"}},[t._v("coreutils"),a("OutboundLink")],1)])]),t._v(" "),a("h2",{attrs:{id:"testing-and-running-autoupdate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#testing-and-running-autoupdate"}},[t._v("#")]),t._v(" Testing and running autoupdate")]),t._v(" "),a("p",[t._v("If you want to confirm an autoupdate works, e.g. after adding it to an existing manifest or creating a new one, change the "),a("code",[t._v("version")]),t._v(" field to a lower or different version and then run "),a("code",[t._v("checkver.ps1")]),t._v(" or use the "),a("code",[t._v("-f")]),t._v(" parameter.")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("cd <bucket repository>\nscoop config debug "),a("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("$true")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ps1 <app> "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u\n")])])]),a("p",[t._v("Check if the "),a("code",[t._v("url")]),t._v(", "),a("code",[t._v("hash")]),t._v(" and "),a("code",[t._v("extract_dir")]),t._v(" properties have the correct values. Try to install/uninstall the app and submit your changes.")]),t._v(" "),a("p",[t._v("Manifests in some known buckets are autoupdated by "),a("a",{attrs:{href:"https://github.com/ScoopInstaller/Excavator",target:"_blank",rel:"noopener noreferrer"}},[t._v("ScoopInstaller/Excavator"),a("OutboundLink")],1),t._v(", so if you want some apps being autoupdated, migrate them to one of these buckets or run an instance of the excavator yourself.")]),t._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Main",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("main")]),a("OutboundLink")],1),t._v(": Update per hour")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/lukesampson/scoop-extras",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("extras")]),a("OutboundLink")],1),t._v(": Update per hour")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Versions",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("versions")]),a("OutboundLink")],1),t._v(": Update per day")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/Java",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("java")]),a("OutboundLink")],1),t._v(": Update per day")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/ScoopInstaller/PHP",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("php")]),a("OutboundLink")],1),t._v(": Update per day")]),t._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/Calinou/scoop-games",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("games")]),a("OutboundLink")],1),t._v(": Update per day")])]),t._v(" "),a("h2",{attrs:{id:"example-workflow-with-scoop-status-update"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-workflow-with-scoop-status-update"}},[t._v("#")]),t._v(" Example Workflow with "),a("strong",[t._v("scoop")]),t._v(" status/update")]),t._v(" "),a("p",[a("code",[t._v("scoop status")]),t._v(" compares your installed version against the current copy of "),a("strong",[t._v("scoop")]),t._v(" and bucket repositories on your machine. If these are not updated it will output wrong version information. e.g.:")]),t._v(" "),a("ul",[a("li",[t._v("installed version: 2.1.2")]),t._v(" "),a("li",[t._v("local "),a("strong",[t._v("scoop")]),t._v(" version: 2.1.3")]),t._v(" "),a("li",[t._v("online repo version: 2.1.4")])]),t._v(" "),a("p",[a("code",[t._v("scoop status")]),t._v(" will show version 2.1.3")]),t._v(" "),a("p",[t._v("Running "),a("code",[t._v("scoop update")]),t._v(" before "),a("code",[t._v("scoop status")]),t._v(" is recommended (which is enforced every 3 hours), then it will show currect version 2.1.4.")]),t._v(" "),a("p",[a("code",[t._v("scoop update")]),t._v(" just "),a("code",[t._v("git pull")]),t._v("s "),a("strong",[t._v("scoop")]),t._v(" core repo to "),a("code",[t._v("~\\scoop\\apps\\scoop\\current")]),t._v(" and every configured bucket to "),a("code",[t._v("~\\scoop\\buckets\\<name>")]),t._v(" (incl. default main bucket)")]),t._v(" "),a("p",[a("code",[t._v("bin\\checkver.ps1")]),t._v(" is only for maintenance and updating the manifests so they can be committed to the repo.")]),t._v(" "),a("p",[t._v("Example Workflow:")]),t._v(" "),a("div",{staticClass:"language-powershell extra-class"},[a("pre",{pre:!0,attrs:{class:"language-powershell"}},[a("code",[t._v("cd <bucket repository>\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\\bin\\checkver "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("u "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# updates all manifest in the repo")]),t._v("\ngit commit "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("m "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Updated apps"')]),t._v("\ngit push\nscoop update\nscoop status\nscoop update <app>\n")])])])])}),[],!1,null,null,null);e.default=r.exports}}]);